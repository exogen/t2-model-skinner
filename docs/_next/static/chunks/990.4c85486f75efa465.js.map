{"version":3,"file":"static/chunks/990.4c85486f75efa465.js","mappings":"ACAA,aACA,CAACA,KAAK,gBAAmB,CAAGA,KAAK,gBAAmB,EAAI,EAAE,EAAEC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAElE,GACC,SAASC,CAAuB,CAAEC,CAAmB,CAAEC,CAAmB,CAAE,CAEnFA,EAAoBC,CAAC,CAACF,GACDC,EAAoBE,CAAC,CAACH,EAAqB,CACzC,QAAW,UAAW,CAAE,OAAqBI,CAAa,CAC5D,GACA,IAAIC,EAAiDJ,EAAoB,MACrEK,EAAqCL,EAAoB,MACLA,EAAoB,KDZjG,IAAAM,EAAAN,EAAA,MAwDqB,SAXYO,EAE/BC,CAAA,MAxBAC,EAkCA,IAAMC,SAAAA,CAAC,CAAAC,oBAAAA,CAA4B,CAAGC,gBAAAA,EAAA,GAAAC,SAAAA,EAAA,EAAAC,cAAAA,CAChC,CAAAC,gBAAAA,EAAA,GAAAC,YAAAA,CAAA,CAAAC,aAAAA,CAAA,CAAAC,YAAAA,CAAA,CAAAC,SAAAA,CAAA,EAAAX,EAEA,CAACC,EAAUW,EAAa,IAAAf,EAAAgB,QAAc,QAEtC,CAAAC,EAAUC,EAAA,IAAAlB,EAAcgB,QAAA,MAC5BG,EAAK,GAAAnB,EAAyCoB,OAAO,SACxCH,GAAAb,EAAAiB,KAAA,CAGX,CACAjB,YAAAA,EACAiB,MAAAjB,EAAAiB,KAAA,CACFJ,SAAAA,CACC,EANA,KAMA,CAAcb,EAASa,EAE1B,EAgDE,OAlGFb,EAoDAA,EApDgB,GAAAJ,EACGsB,SAAA,OACflB,GACDA,CAAAA,EAAAmB,SAAA,IACA,GAAanB,EAClB,EA+CkB,GAAAJ,EACIsB,SAAA,UAChB,CAAAlB,EACD,MACD,CAEA,IAAAoB,EAAM,GACJC,EAAY,KACVD,GACDN,EAAA,GAEH,EAEa,OAAbd,EAAasB,gBAAA,QAAAD,GACX,KACAD,EAAA,GACFpB,EAAAuB,mBAAA,QAAAF,EACC,IAAcrB,EAASC,EAE1B,EAAgB,GAAAL,EACIsB,SAAA,OAChBlB,GAGAA,EAAUwB,MAAI,EACfV,EAAA,GACA,GAAcd,EAASC,EAE1B,EAAgB,GAAAL,EACiBsB,SAAA,OAC7BlB,GAAAa,IAGAP,EACFN,EAAOyB,KAAA,GAENzB,EAAA0B,IAAA,GACA,GAAc1B,EAAUa,EAAgBP,EAE3C,EAAgB,GAAAV,EACiBsB,SAAA,EAAa,KAC1ClB,GAAYa,GAAaJ,GAC1BT,EAAA2B,YAAA,iBAAAlB,EACA,GAAcT,EAAUa,EAAYJ,EAEvC,EACE,GAAAd,EAAAiC,IAAA,EAAAjC,EAAAkC,QAAA,EAAAnB,SAAA,CAES,GAAAf,EAAAmC,GAAA,kBACLC,IAAIpB,EACJqB,IAAK,iBACLC,IAAAhC,EACA,kBAAc,GACd,eAAAM,EAGA,mBAAeL,GAAAC,EAAA,kBAAA+B,KAAAA,CAAA,CACf,gBAAA1B,EACA,oBAAkB,QAClB,oBAAgB,QAChB,iBAAUH,MAAAA,EAAgCA,EAAA6B,KAAAA,CAAA,CAC1CC,SAAA9B,EAAa,eACb,eAAU,QACVD,SAAAA,EACA,oBACEF,MAAAA,EAEIA,EAASgC,KAAAA,CAAA,CAEf,eAAAhC,GAAcC,EAAAD,EAAAgC,KAAAA,CAAA,CACd,uBACA,mBAAOhC,GAAAC,EAAA,IAAAiC,MAAE,CAAeC,MAAA,OAAeC,OAAA,OAExC,GAC6BzB,EAAQ,GAAAlB,EAAAmC,GAAA,EAAAjC,EAAA0C,CAAA,CAAAC,QAAA,EAAAC,MAAA1B,EACjCL,SAEGA,CAAA,UAKC,CAA8C,SAC3DhB,EAAAgD,CAAO,EAAC,MAAsD,GAAA/C,EAAAmC,GAAA,EAAAhC,EAAA,CAAzB,GAAA4C,CAAM,EAC5CA,EAAAzC,QAAA","sources":["webpack://_N_E/./src/ModelViewer.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import { CSSProperties, ReactNode, useEffect, useMemo, useState } from \"react\";\nimport \"@google/model-viewer\";\nimport type { ModelViewerElement } from \"@google/model-viewer\";\nimport { ModelViewerContext } from \"./useModelViewer\";\n\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      \"model-viewer\": ModelViewerAttributes;\n    }\n    interface ModelViewerAttributes {\n      alt: string;\n      src: string;\n      ref: (modelViewer: ModelViewerElement | null) => void;\n      exposure: number;\n      autoplay: \"true\" | \"false\";\n      scale?: string;\n      style: CSSProperties;\n    }\n  }\n}\n\nfunction useTimeScale(modelViewer: ModelViewerElement | null) {\n  useEffect(() => {\n    if (modelViewer) {\n      modelViewer.timeScale = 0.5;\n    }\n  }, [modelViewer]);\n}\n\ninterface ModelViewerProps {\n  modelUrl: string;\n  environmentImageUrl: string | null;\n  showEnvironment?: boolean;\n  exposure?: number;\n  colorImageUrl?: string;\n  metallicImageUrl?: string;\n  animationName: string | null;\n  animationPaused?: boolean;\n  cameraOrbit?: string;\n  cameraTarget?: string;\n  fieldOfView?: string;\n  children?: ReactNode;\n}\n\nfunction ModelViewerKeyedByModel({\n  modelUrl,\n  environmentImageUrl,\n  showEnvironment = false,\n  exposure = 1,\n  animationName,\n  animationPaused = false,\n  cameraOrbit,\n  cameraTarget,\n  fieldOfView,\n  children,\n}: ModelViewerProps) {\n  const [modelViewer, setModelViewer] = useState<ModelViewerElement | null>(\n    null\n  );\n  const [isLoaded, setLoaded] = useState(false);\n\n  const context = useMemo(() => {\n    if (!modelViewer || !isLoaded || !modelViewer.model) {\n      return null;\n    }\n    return {\n      modelViewer,\n      model: modelViewer.model,\n      isLoaded,\n    };\n  }, [modelViewer, isLoaded]);\n\n  useTimeScale(modelViewer);\n\n  useEffect(() => {\n    if (!modelViewer) {\n      return;\n    }\n    let stale = false;\n\n    const handleLoad = () => {\n      if (!stale) {\n        setLoaded(true);\n      }\n    };\n    modelViewer.addEventListener(\"load\", handleLoad);\n\n    return () => {\n      stale = true;\n      modelViewer.removeEventListener(\"load\", handleLoad);\n    };\n  }, [modelViewer, modelUrl]);\n\n  useEffect(() => {\n    if (!modelViewer) {\n      return;\n    }\n    if (modelViewer.loaded) {\n      setLoaded(true);\n    }\n  }, [modelViewer, modelUrl]);\n\n  useEffect(() => {\n    if (!modelViewer || !isLoaded) {\n      return;\n    }\n    if (animationPaused) {\n      modelViewer.pause();\n    } else {\n      modelViewer.play();\n    }\n  }, [modelViewer, isLoaded, animationPaused]);\n\n  useEffect(() => {\n    if (modelViewer && isLoaded && fieldOfView) {\n      modelViewer.setAttribute(\"field-of-view\", fieldOfView);\n    }\n  }, [modelViewer, isLoaded, fieldOfView]);\n\n  return (\n    <>\n      <model-viewer\n        ref={setModelViewer}\n        alt=\"Tribes 2 Model\"\n        src={modelUrl}\n        camera-controls\n        camera-orbit={cameraOrbit}\n        max-camera-orbit={\n          environmentImageUrl && showEnvironment ? \"auto 90deg auto\" : undefined\n        }\n        camera-target={cameraTarget}\n        min-field-of-view=\"10deg\"\n        max-field-of-view=\"45deg\"\n        animation-name={animationName ?? undefined}\n        autoplay={animationName ? \"true\" : \"false\"}\n        touch-action=\"pan-y\"\n        exposure={exposure}\n        environment-image={environmentImageUrl ?? undefined}\n        skybox-image={\n          environmentImageUrl && showEnvironment\n            ? environmentImageUrl\n            : undefined\n        }\n        skybox-height=\"1.5m\"\n        shadow-intensity={environmentImageUrl && showEnvironment ? 1 : 0}\n        style={{ width: \"100%\", height: \"100%\" }}\n      />\n      {isLoaded ? (\n        <ModelViewerContext.Provider value={context}>\n          {children}\n        </ModelViewerContext.Provider>\n      ) : null}\n    </>\n  );\n}\n\nexport default function ModelViewer(props: ModelViewerProps) {\n  return <ModelViewerKeyedByModel key={props.modelUrl} {...props} />;\n}\n","\"use strict\";\n(self[\"webpackChunk_N_E\"] = self[\"webpackChunk_N_E\"] || []).push([[990],{\n\n/***/ 85:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ModelViewer; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5893);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7294);\n/* harmony import */ var _google_model_viewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(258);\n/* harmony import */ var _useModelViewer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8496);\n\n\n\n\nfunction useTimeScale(modelViewer) {\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (modelViewer) {\n            modelViewer.timeScale = 0.5;\n        }\n    }, [\n        modelViewer\n    ]);\n}\nfunction ModelViewerKeyedByModel(param) {\n    let { modelUrl , environmentImageUrl , showEnvironment =false , exposure =1 , animationName , animationPaused =false , cameraOrbit , cameraTarget , fieldOfView , children  } = param;\n    const [modelViewer, setModelViewer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoaded, setLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!modelViewer || !isLoaded || !modelViewer.model) {\n            return null;\n        }\n        return {\n            modelViewer,\n            model: modelViewer.model,\n            isLoaded\n        };\n    }, [\n        modelViewer,\n        isLoaded\n    ]);\n    useTimeScale(modelViewer);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!modelViewer) {\n            return;\n        }\n        let stale = false;\n        const handleLoad = ()=>{\n            if (!stale) {\n                setLoaded(true);\n            }\n        };\n        modelViewer.addEventListener(\"load\", handleLoad);\n        return ()=>{\n            stale = true;\n            modelViewer.removeEventListener(\"load\", handleLoad);\n        };\n    }, [\n        modelViewer,\n        modelUrl\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!modelViewer) {\n            return;\n        }\n        if (modelViewer.loaded) {\n            setLoaded(true);\n        }\n    }, [\n        modelViewer,\n        modelUrl\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!modelViewer || !isLoaded) {\n            return;\n        }\n        if (animationPaused) {\n            modelViewer.pause();\n        } else {\n            modelViewer.play();\n        }\n    }, [\n        modelViewer,\n        isLoaded,\n        animationPaused\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (modelViewer && isLoaded && fieldOfView) {\n            modelViewer.setAttribute(\"field-of-view\", fieldOfView);\n        }\n    }, [\n        modelViewer,\n        isLoaded,\n        fieldOfView\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"model-viewer\", {\n                ref: setModelViewer,\n                alt: \"Tribes 2 Model\",\n                src: modelUrl,\n                \"camera-controls\": true,\n                \"camera-orbit\": cameraOrbit,\n                \"max-camera-orbit\": environmentImageUrl && showEnvironment ? \"auto 90deg auto\" : undefined,\n                \"camera-target\": cameraTarget,\n                \"min-field-of-view\": \"10deg\",\n                \"max-field-of-view\": \"45deg\",\n                \"animation-name\": animationName !== null && animationName !== void 0 ? animationName : undefined,\n                autoplay: animationName ? \"true\" : \"false\",\n                \"touch-action\": \"pan-y\",\n                exposure: exposure,\n                \"environment-image\": environmentImageUrl !== null && environmentImageUrl !== void 0 ? environmentImageUrl : undefined,\n                \"skybox-image\": environmentImageUrl && showEnvironment ? environmentImageUrl : undefined,\n                \"skybox-height\": \"1.5m\",\n                \"shadow-intensity\": environmentImageUrl && showEnvironment ? 1 : 0,\n                style: {\n                    width: \"100%\",\n                    height: \"100%\"\n                }\n            }),\n            isLoaded ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_useModelViewer__WEBPACK_IMPORTED_MODULE_3__/* .ModelViewerContext.Provider */ .K.Provider, {\n                value: context,\n                children: children\n            }) : null\n        ]\n    });\n}\nfunction ModelViewer(props) {\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ModelViewerKeyedByModel, {\n        ...props\n    }, props.modelUrl);\n}\n\n\n/***/ })\n\n}]);"],"names":["self","push","__unused_webpack_module","__webpack_exports__","__webpack_require__","r","d","ModelViewer","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","_useModelViewer__WEBPACK_IMPORTED_MODULE_3__","ModelViewerKeyedByModel","param","modelViewer","modelUrl","environmentImageUrl","showEnvironment","exposure","animationName","animationPaused","cameraOrbit","cameraTarget","fieldOfView","children","setModelViewer","useState","isLoaded","setLoaded","context","useMemo","model","useEffect","timeScale","stale","handleLoad","addEventListener","removeEventListener","loaded","pause","play","setAttribute","jsxs","Fragment","jsx","ref","alt","src","undefined","autoplay","style","width","height","K","Provider","value","props"],"sourceRoot":""}