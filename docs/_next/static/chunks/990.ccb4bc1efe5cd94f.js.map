{"version":3,"file":"static/chunks/990.ccb4bc1efe5cd94f.js","mappings":"ACAA,aACA,CAACA,KAAK,gBAAmB,CAAGA,KAAK,gBAAmB,EAAI,EAAE,EAAEC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAElE,GACC,SAASC,CAAuB,CAAEC,CAAmB,CAAEC,CAAmB,CAAE,CAEnFA,EAAoBC,CAAC,CAACF,GACDC,EAAoBE,CAAC,CAACH,EAAqB,CACzC,QAAW,UAAW,CAAE,OAAqBI,CAAa,CAC5D,GACA,IAAIC,EAAiDJ,EAAoB,MACrEK,EAAqCL,EAAoB,MACLA,EAAoB,KDZjG,IAAAM,EAAAN,EAAA,MAmDqB,SATYO,EAE/BC,CAAA,MAtBAC,EA8BA,IAAMC,SAAAA,CAAC,CAAAC,oBAAAA,CAA4B,CAAGC,cAAAA,CAAA,CAAAC,gBAAAA,EAAA,GAAAC,YAAAA,CAChC,CAAAC,aAAAA,CAAA,CAAAC,YAAAA,CAAA,CAAAC,SAAAA,CAAA,EAAAT,EAEA,CAACC,EAAUS,EAAa,IAAAb,EAAAc,QAAc,QAEtC,CAAAC,EAAUC,EAAA,IAAAhB,EAAcc,QAAA,MAC5BG,EAAK,GAAAjB,EAAyCkB,OAAO,SACxCH,GAAAX,EAAAe,KAAA,CAGX,CACAf,YAAAA,EACAe,MAAAf,EAAAe,KAAA,CACFJ,SAAAA,CACC,EANA,KAMA,CAAcX,EAASW,EAE1B,EAgDE,OA9FFX,EAgDAA,EAhDgB,GAAAJ,EACGoB,SAAA,OACfhB,GACDA,CAAAA,EAAAiB,SAAA,IACA,GAAajB,EAClB,EA2CkB,GAAAJ,EACIoB,SAAA,UAChB,CAAAhB,EACD,MACD,CAEA,IAAAkB,EAAM,GACJC,EAAY,KACVD,GACDN,EAAA,GAEH,EAEa,OAAbZ,EAAaoB,gBAAA,QAAAD,GACX,KACAD,EAAA,GACFlB,EAAAqB,mBAAA,QAAAF,EACC,IAAcnB,EAASC,EAE1B,EAAgB,GAAAL,EACIoB,SAAA,OAChBhB,GAGAA,EAAUsB,MAAI,EACfV,EAAA,GACA,GAAcZ,EAASC,EAE1B,EAAgB,GAAAL,EACiBoB,SAAA,OAC7BhB,GAAAW,IAGAP,EACFJ,EAAOuB,KAAA,GAENvB,EAAAwB,IAAA,GACA,GAAcxB,EAAUW,EAAgBP,EAE3C,EAAgB,GAAAR,EACiBoB,SAAA,EAAa,KAC1ChB,GAAYW,GAAaJ,GAC1BP,EAAAyB,YAAA,iBAAAlB,EACA,GAAcP,EAAUW,EAAYJ,EAEvC,EACE,GAAAZ,EAAA+B,IAAA,EAAA/B,EAAAgC,QAAA,EAAAnB,SAAA,CAES,GAAAb,EAAAiC,GAAA,kBACLC,IAAIpB,EACJqB,IAAK,iBACLC,IAAA9B,EACA,mBAAe,EACf,kBAAc,GACd,eAAAI,EACA,gBAAAC,EACA,oBAAgB,QAChB,iBAAUH,MAAAA,EAAgCA,EAAA6B,KAAAA,CAAA,CAC1CC,SAAA9B,EAAa,eACb,uBACA,oBAAOD,MAAAA,EAAAA,EAAA8B,KAAAA,CAAA,CAAAE,MAAE,CAAeC,MAAA,OAAeC,OAAA,OAExC,GAC6BzB,EAAQ,GAAAhB,EAAAiC,GAAA,EAAA/B,EAAAwC,CAAA,CAAAC,QAAA,EAAAC,MAAA1B,EACjCL,SAEGA,CAAA,UAKC,CAA8C,SAC3Dd,EAAA8C,CAAO,EAAC,MAAsD,GAAA7C,EAAAiC,GAAA,EAAA9B,EAAA,CAAzB,GAAA0C,CAAM,EAC5CA,EAAAvC,QAAA","sources":["webpack://_N_E/./src/ModelViewer.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import { CSSProperties, ReactNode, useEffect, useMemo, useState } from \"react\";\r\nimport \"@google/model-viewer\";\r\nimport type { ModelViewerElement } from \"@google/model-viewer\";\r\nimport { ModelViewerContext } from \"./useModelViewer\";\r\n\r\ndeclare global {\r\n  namespace JSX {\r\n    interface IntrinsicElements {\r\n      \"model-viewer\": ModelViewerAttributes;\r\n    }\r\n    interface ModelViewerAttributes {\r\n      alt: string;\r\n      src: string;\r\n      ref: (modelViewer: ModelViewerElement | null) => void;\r\n      autoplay: \"true\" | \"false\";\r\n      scale?: string;\r\n      style: CSSProperties;\r\n    }\r\n  }\r\n}\r\n\r\nfunction useTimeScale(modelViewer: ModelViewerElement | null) {\r\n  useEffect(() => {\r\n    if (modelViewer) {\r\n      modelViewer.timeScale = 0.5;\r\n    }\r\n  }, [modelViewer]);\r\n}\r\n\r\ninterface ModelViewerProps {\r\n  modelUrl: string;\r\n  environmentImageUrl: string | null;\r\n  colorImageUrl?: string;\r\n  metallicImageUrl?: string;\r\n  animationName: string | null;\r\n  animationPaused?: boolean;\r\n  cameraOrbit?: string;\r\n  cameraTarget?: string;\r\n  fieldOfView?: string;\r\n  children?: ReactNode;\r\n}\r\n\r\nfunction ModelViewerKeyedByModel({\r\n  modelUrl,\r\n  environmentImageUrl,\r\n  animationName,\r\n  animationPaused = false,\r\n  cameraOrbit,\r\n  cameraTarget,\r\n  fieldOfView,\r\n  children,\r\n}: ModelViewerProps) {\r\n  const [modelViewer, setModelViewer] = useState<ModelViewerElement | null>(\r\n    null\r\n  );\r\n  const [isLoaded, setLoaded] = useState(false);\r\n\r\n  const context = useMemo(() => {\r\n    if (!modelViewer || !isLoaded || !modelViewer.model) {\r\n      return null;\r\n    }\r\n    return {\r\n      modelViewer,\r\n      model: modelViewer.model,\r\n      isLoaded,\r\n    };\r\n  }, [modelViewer, isLoaded]);\r\n\r\n  useTimeScale(modelViewer);\r\n\r\n  useEffect(() => {\r\n    if (!modelViewer) {\r\n      return;\r\n    }\r\n    let stale = false;\r\n\r\n    const handleLoad = () => {\r\n      if (!stale) {\r\n        setLoaded(true);\r\n      }\r\n    };\r\n    modelViewer.addEventListener(\"load\", handleLoad);\r\n\r\n    return () => {\r\n      stale = true;\r\n      modelViewer.removeEventListener(\"load\", handleLoad);\r\n    };\r\n  }, [modelViewer, modelUrl]);\r\n\r\n  useEffect(() => {\r\n    if (!modelViewer) {\r\n      return;\r\n    }\r\n    if (modelViewer.loaded) {\r\n      setLoaded(true);\r\n    }\r\n  }, [modelViewer, modelUrl]);\r\n\r\n  useEffect(() => {\r\n    if (!modelViewer || !isLoaded) {\r\n      return;\r\n    }\r\n    if (animationPaused) {\r\n      modelViewer.pause();\r\n    } else {\r\n      modelViewer.play();\r\n    }\r\n  }, [modelViewer, isLoaded, animationPaused]);\r\n\r\n  useEffect(() => {\r\n    if (modelViewer && isLoaded && fieldOfView) {\r\n      modelViewer.setAttribute(\"field-of-view\", fieldOfView);\r\n    }\r\n  }, [modelViewer, isLoaded, fieldOfView]);\r\n\r\n  return (\r\n    <>\r\n      <model-viewer\r\n        ref={setModelViewer}\r\n        alt=\"Tribes 2 Model\"\r\n        src={modelUrl}\r\n        shadow-intensity={0}\r\n        camera-controls\r\n        camera-orbit={cameraOrbit}\r\n        camera-target={cameraTarget}\r\n        min-field-of-view=\"10deg\"\r\n        animation-name={animationName ?? undefined}\r\n        autoplay={animationName ? \"true\" : \"false\"}\r\n        touch-action=\"pan-y\"\r\n        environment-image={environmentImageUrl ?? undefined}\r\n        style={{ width: \"100%\", height: \"100%\" }}\r\n      />\r\n      {isLoaded ? (\r\n        <ModelViewerContext.Provider value={context}>\r\n          {children}\r\n        </ModelViewerContext.Provider>\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default function ModelViewer(props: ModelViewerProps) {\r\n  return <ModelViewerKeyedByModel key={props.modelUrl} {...props} />;\r\n}\r\n","\"use strict\";\n(self[\"webpackChunk_N_E\"] = self[\"webpackChunk_N_E\"] || []).push([[990],{\n\n/***/ 85:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ModelViewer; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5893);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7294);\n/* harmony import */ var _google_model_viewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(258);\n/* harmony import */ var _useModelViewer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8496);\n\n\n\n\nfunction useTimeScale(modelViewer) {\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (modelViewer) {\n            modelViewer.timeScale = 0.5;\n        }\n    }, [\n        modelViewer\n    ]);\n}\nfunction ModelViewerKeyedByModel(param) {\n    let { modelUrl , environmentImageUrl , animationName , animationPaused =false , cameraOrbit , cameraTarget , fieldOfView , children  } = param;\n    const [modelViewer, setModelViewer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoaded, setLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!modelViewer || !isLoaded || !modelViewer.model) {\n            return null;\n        }\n        return {\n            modelViewer,\n            model: modelViewer.model,\n            isLoaded\n        };\n    }, [\n        modelViewer,\n        isLoaded\n    ]);\n    useTimeScale(modelViewer);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!modelViewer) {\n            return;\n        }\n        let stale = false;\n        const handleLoad = ()=>{\n            if (!stale) {\n                setLoaded(true);\n            }\n        };\n        modelViewer.addEventListener(\"load\", handleLoad);\n        return ()=>{\n            stale = true;\n            modelViewer.removeEventListener(\"load\", handleLoad);\n        };\n    }, [\n        modelViewer,\n        modelUrl\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!modelViewer) {\n            return;\n        }\n        if (modelViewer.loaded) {\n            setLoaded(true);\n        }\n    }, [\n        modelViewer,\n        modelUrl\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!modelViewer || !isLoaded) {\n            return;\n        }\n        if (animationPaused) {\n            modelViewer.pause();\n        } else {\n            modelViewer.play();\n        }\n    }, [\n        modelViewer,\n        isLoaded,\n        animationPaused\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (modelViewer && isLoaded && fieldOfView) {\n            modelViewer.setAttribute(\"field-of-view\", fieldOfView);\n        }\n    }, [\n        modelViewer,\n        isLoaded,\n        fieldOfView\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"model-viewer\", {\n                ref: setModelViewer,\n                alt: \"Tribes 2 Model\",\n                src: modelUrl,\n                \"shadow-intensity\": 0,\n                \"camera-controls\": true,\n                \"camera-orbit\": cameraOrbit,\n                \"camera-target\": cameraTarget,\n                \"min-field-of-view\": \"10deg\",\n                \"animation-name\": animationName !== null && animationName !== void 0 ? animationName : undefined,\n                autoplay: animationName ? \"true\" : \"false\",\n                \"touch-action\": \"pan-y\",\n                \"environment-image\": environmentImageUrl !== null && environmentImageUrl !== void 0 ? environmentImageUrl : undefined,\n                style: {\n                    width: \"100%\",\n                    height: \"100%\"\n                }\n            }),\n            isLoaded ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_useModelViewer__WEBPACK_IMPORTED_MODULE_3__/* .ModelViewerContext.Provider */ .K.Provider, {\n                value: context,\n                children: children\n            }) : null\n        ]\n    });\n}\nfunction ModelViewer(props) {\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ModelViewerKeyedByModel, {\n        ...props\n    }, props.modelUrl);\n}\n\n\n/***/ })\n\n}]);"],"names":["self","push","__unused_webpack_module","__webpack_exports__","__webpack_require__","r","d","ModelViewer","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","_useModelViewer__WEBPACK_IMPORTED_MODULE_3__","ModelViewerKeyedByModel","param","modelViewer","modelUrl","environmentImageUrl","animationName","animationPaused","cameraOrbit","cameraTarget","fieldOfView","children","setModelViewer","useState","isLoaded","setLoaded","context","useMemo","model","useEffect","timeScale","stale","handleLoad","addEventListener","removeEventListener","loaded","pause","play","setAttribute","jsxs","Fragment","jsx","ref","alt","src","undefined","autoplay","style","width","height","K","Provider","value","props"],"sourceRoot":""}